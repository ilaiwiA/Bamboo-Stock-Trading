{"mappings":"kpBAsBA,IAAAA,EACAC,E,iFArBA,IAAIC,EAAU,CAAC,EAoBfF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,GAElC,EAaAL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,CACT,C,ICpBAE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,0O,MCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,WC0DrEC,MAAMC,EAAAR,IAC1BS,MAAMC,GAAMA,EAAEC,SACdF,MAAMC,GACLA,EACGE,MAAM,MACNC,KAAKH,IACJ,MAAMI,EAAYJ,EAAEE,MAAM,KAG1B,GAFAE,EAAU,GAAKA,EAAU,IAAIC,MAAM,GAAG,GAGnB,cAAjBD,EAAU,IACTA,EAAU,MACXA,EAAU,GAAGtB,OAAS,IACL,QAAjBsB,EAAU,GAIZ,OAAOA,CAAA,IAERE,QAAQN,GAAMA,M,MC7ErBO,EAAiB,IAAAhB,IAAoBL,EAAA,SAAAM,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,W,MCA5FY,EAAiB,IAAAjB,IAAoBL,EAAA,SAAAM,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,WCK5F,MAAMa,EAAOC,SAASC,cAAc,QAC9BC,EAAWF,SAASC,cAAc,eAClCE,EAAOH,SAASC,cAAc,kBAC9BG,EAASJ,SAASC,cAAc,kBAChCI,EAASL,SAASM,iBAAiB,SAEzCC,OAAOC,iBAAiB,QAAQ,WAC9BC,KAAKT,SAASC,cAAc,aAAaS,UAAUC,IAAI,SACzD,IAEAR,EAAKK,iBAAiB,UAAU,SAAUI,GACxCA,EAAEC,iBAEFT,EAAOU,UAAY,oCACnBC,IACA,MAAMC,EAAO,IAAIC,SAASd,GAEpBe,EAAmB,CAAC,EAE1BF,EAAKG,SAAQ,CAACC,EAAKC,KACL,iBAARA,IAAwBD,GAAOA,GACnCF,EAAiBG,GAAOD,CAAA,IAG1BE,EAAkBJ,EACpB,IAEA,MAAMI,EAAoBC,eAAgBP,GACxC,IAAIQ,EAAS,IAAIC,QACjBD,EAAOE,OAAO,eAAgB,oBAE9B,IAAIC,EAAU,IAAIC,QAAQ,2CAAuB,CAC/CC,OAAQ,OACRC,QAASN,EACTO,KAAMrD,KAAKsD,UAAUhB,KAGvB,MAAMiB,QAAiB9C,MAAMwC,GAE7B,IAAKM,EAASC,GAAI,OAAOC,QAA0BF,EAASG,QAE5DC,GACF,EAEMF,EAAsB,SAAUG,GACpCA,EAAIC,QAAQpB,SAASC,IACnB,MAAMoB,EAAQpB,EAAIqB,QAAQ,KACpBC,EACoB,qBAAxBtB,EAAIzB,MAAM,EAAG6C,IACW,kBAAxBpB,EAAIzB,MAAM,EAAG6C,GACT,WACApB,EAAIzB,MAAM,EAAG6C,GACnBxC,SAASC,cAAc,IAAIyC,KAAS5B,UAAY6B,EAC9CvB,EAAIzB,MAAM6C,EAAQ,OAGtBpC,EAAOU,UAAY,eACrB,EAEMuB,EAAsB,WAC1BnC,EAASQ,UAAUC,IAAI,UAEvB,MAAMiC,EAAO,4EAGAxD,EAAAU,mXAabC,EAAK8C,mBAAmB,YAAaD,GAErCE,YAAW,KACTvC,OAAOwC,SAASC,KH/EU,qCG+EU,GACnC,OACL,EAEMjC,EAAyB,WAC7BV,EAAOc,SAAS7B,IACdA,EAAEwB,UAAY,WAElB,EAEM6B,EAAiB,SAAUM,GAC/B,MAAO,mBACO7D,EAAAS,iCACPoD,aAET","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-599ffe94c69ee8d3.js","node_modules/@parcel/runtime-js/lib/runtime-b56c81437e1f9f57.js","js/config.js","node_modules/@parcel/runtime-js/lib/runtime-5732911a2c5c9eaa.js","node_modules/@parcel/runtime-js/lib/runtime-704fc4a93bef0e3f.js","js/register.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7kFgJ\\\":\\\"Register.679feeda.js\\\",\\\"lJfxJ\\\":\\\"tickers_noSpecialChart_withName.e24a985a.csv\\\",\\\"3ILDj\\\":\\\"error-icon.d9c2a70f.png\\\",\\\"hjiE0\\\":\\\"successIconLarge.746b7390.png\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lJfxJ\")).toString();","export const TIME_OUT = 10;\n\nexport const URL = \"https://192.168.0.215:8080/api/\"; // window\nexport const URL_AUTH = \"https://192.168.0.215:8080/auth/\";\n\n// export const URL = \"https://bamboospring-production.up.railway.app/api/\"; // prod server\n// export const URL_AUTH = \"https://bamboospring-production.up.railway.app/auth/\";\nexport const LOGIN_REDIRECT = \"/Bamboo-Stock-Trading/Register.html\";\n\nexport const USER_STOCK = \"stocklist\";\nexport const WATCH_LIST = \"watchlist\";\nexport const TOP_LIST = \"toplist\";\n\nexport const NEWS_LIMIT = 10;\n\n// export const DAILY_1_MIN_INTERVAL = 600; // 7am to 5pm at 1 min interval\n// export const DAILY_5_MIN_INTERVAL = 120; // 7am to 5pm at 5 min interval\n// export const DAILY_15_MIN_INTERVAL = 40; // 7am to 5pm at 15 min interval\nexport const DAILY_1_MIN_INTERVAL = 780; // 5pm to 7pm at 1 min interval\nexport const DAILY_5_MIN_INTERVAL = 156; // 5pm to 7pm at 5 min interval\nexport const DAILY_15_MIN_INTERVAL = 52; // 5pm to 7pm at 15 min interval\nexport const UNIX_MS_PER_MINUTE = 60000;\nexport const UNIX_MS_PER_5_MINUTE = 300000;\nexport const UNIX_MS_PER_15_MINUTE = 900000;\n\nexport const CHART_UPDATE_INTERVAL = 7500;\n\nexport const DAILY_PRICE_CONFIG = {\n  hour: \"numeric\",\n  minute: \"numeric\",\n};\n\nexport const RECENT_PRICE_CONFIG = {\n  month: \"short\",\n  day: \"numeric\",\n  hour: \"numeric\",\n  minute: \"numeric\",\n};\n\nexport const DISPLAY_PRICE_CONFIG = {\n  month: \"short\",\n  day: \"numeric\",\n  year: \"numeric\",\n  hour: \"numeric\",\n  minute: \"numeric\",\n};\n\nexport const PAST_PRICE_CONFIG = {\n  month: \"short\",\n  day: \"numeric\",\n  year: \"numeric\",\n  hour: \"numeric\",\n  minute: \"numeric\",\n};\n\n// import tickerList from \"url:/images/tickers_noSpecialChart.csv\"; //prevents chrome due to CORS\nimport tickerList from \"url:/images/tickers_noSpecialChart_withName.csv\"; //prevents chrome due to CORS\n\nexport const tickers = fetch(tickerList)\n  .then((a) => a.text())\n  .then((a) =>\n    a\n      .split(\"\\n\")\n      .map((a) => {\n        const tickerArr = a.split(\",\");\n        tickerArr[1] = tickerArr[1]?.slice(0, -1);\n\n        if (\n          tickerArr[1] === \"undefined\" ||\n          !tickerArr[1] ||\n          tickerArr[1].length < 1 ||\n          tickerArr[0] === \"ZZZ\"\n        ) {\n          return;\n        }\n        return tickerArr;\n      })\n      .filter((a) => a)\n  );\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3ILDj\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hjiE0\")).toString();","import { LOGIN_REDIRECT, URL_AUTH } from \"./config\";\n\nimport ERROR_ICON from \"url:/images/error-icon.png\";\nimport SUCCESS_ICON from \"url:/images/successIconLarge.png\";\n\nconst main = document.querySelector(\"main\");\nconst register = document.querySelector(\".login-form\");\nconst form = document.querySelector(\"#register-form\");\nconst button = document.querySelector(\"#button-submit\");\nconst labels = document.querySelectorAll(\"label\");\n\nwindow.addEventListener(\"load\", function () {\n  this.document.querySelector(\".waitLoad\").classList.add(\"hidden\");\n});\n\nform.addEventListener(\"submit\", function (e) {\n  e.preventDefault();\n\n  button.innerHTML = `<div class=\"loader-button\"></div>`;\n  registrationFieldReset();\n  const data = new FormData(form);\n\n  const userRegistration = {};\n\n  data.forEach((val, key) => {\n    if (key === \"formStartBal\") val = +val;\n    userRegistration[key] = val;\n  });\n\n  registrationFetch(userRegistration);\n});\n\nconst registrationFetch = async function (data) {\n  let header = new Headers();\n  header.append(\"Content-Type\", \"application/json\");\n\n  let request = new Request(URL_AUTH + \"register\", {\n    method: \"POST\",\n    headers: header,\n    body: JSON.stringify(data),\n  });\n\n  const response = await fetch(request);\n\n  if (!response.ok) return registrationFailure(await response.json());\n\n  registrationSuccess();\n};\n\nconst registrationFailure = function (err) {\n  err.details.forEach((val) => {\n    const index = val.indexOf(\":\");\n    const label =\n      val.slice(0, index) === \"validatePassword\" ||\n      val.slice(0, index) === \"passwordMatch\"\n        ? \"password\"\n        : val.slice(0, index);\n    document.querySelector(`#${label}`).innerHTML = generateErrMsg(\n      val.slice(index + 1)\n    );\n  });\n  button.innerHTML = `<p>Log in</p>`;\n};\n\nconst registrationSuccess = function () {\n  register.classList.add(\"hidden\");\n\n  const html = `\n  <section class=\"register-success main-form\">\n    <img\n        src=\"${SUCCESS_ICON}\"\n        alt=\"account_creation_success\"\n    />\n    <div class=\"success-message\">\n        <h1>Account successfully created!</h1>\n        <p id=\"redirect-msg\">\n        You will be redirected to the login page shortly...\n        </p>\n        <a id=\"redirect-manual\" href=\"/LoginPage.html\">Click here if you are not redirected.</a>\n    </div>\n  </section>\n  `;\n\n  main.insertAdjacentHTML(\"beforeend\", html);\n\n  setTimeout(() => {\n    window.location.href = LOGIN_REDIRECT;\n  }, \"2000\");\n};\n\nconst registrationFieldReset = function () {\n  labels.forEach((a) => {\n    a.innerHTML = \"&nbsp;\";\n  });\n};\n\nconst generateErrMsg = function (msg) {\n  return `\n    <img src=\"${ERROR_ICON}\" alt=\"error-icon\">\n    <p>${msg}</p>\n    `;\n};\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$05eab7749430a5ec$exports","URL","resolve","import","meta","url","toString","fetch","$parcel$interopDefault","then","a","text","split","map","tickerArr","slice","filter","$de754080e602bfba$exports","$1aeecbabccb9a402$exports","$6076bf52518b8931$var$main","document","querySelector","$6076bf52518b8931$var$register","$6076bf52518b8931$var$form","$6076bf52518b8931$var$button","$6076bf52518b8931$var$labels","querySelectorAll","window","addEventListener","this","classList","add","e","preventDefault","innerHTML","$6076bf52518b8931$var$registrationFieldReset","data","FormData","userRegistration","forEach","val","key","$6076bf52518b8931$var$registrationFetch","async","header","Headers","append","request","Request","method","headers","body","stringify","response","ok","$6076bf52518b8931$var$registrationFailure","json","$6076bf52518b8931$var$registrationSuccess","err","details","index","indexOf","label","$6076bf52518b8931$var$generateErrMsg","html","insertAdjacentHTML","setTimeout","location","href","msg"],"version":3,"file":"Register.679feeda.js.map"}